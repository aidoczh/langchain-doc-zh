# 安全性

LangChain 拥有与各种外部资源（如本地和远程文件系统、API 和数据库）集成的庞大生态系统。这些集成使开发人员能够创建多功能应用程序，结合了 LLM 的强大功能和访问、交互和操作外部资源的能力。

## 最佳实践

在构建此类应用程序时，开发人员应记住遵循良好的安全实践：

* [**限制权限**](https://en.wikipedia.org/wiki/Principle_of_least_privilege)：将权限范围专门限制在应用程序的需求范围内。授予广泛或过多的权限可能会引入重大安全漏洞。为避免此类漏洞，考虑使用只读凭据、禁止访问敏感资源，使用沙盒技术（如在容器内运行）等，具体取决于您的应用程序。

* **预防潜在滥用**：正如人类可能犯错一样，大型语言模型（LLMs）也可能出错。始终假设任何系统访问或凭据可能会被分配的权限允许的任何方式使用。例如，如果一对数据库凭据允许删除数据，最安全的做法是假设任何能够使用这些凭据的LLM实际上可能会删除数据。

* [**深度防御**](https://en.wikipedia.org/wiki/Defense_in_depth_(computing))：没有绝对完美的安全技术。优化和良好的链式设计可以减少，但无法消除大型语言模型（LLM）可能出错的几率。最好的做法是结合多层安全方法，而不是依赖于任何单一防御层来确保安全。例如：同时使用只读权限和沙盒技术，以确保LLMs只能访问明确为它们使用的数据。

不这样做的风险包括但不限于：

* 数据损坏或丢失。

* 未经授权访问机密信息。

* 关键资源的性能或可用性受损。

带有缓解策略的示例场景：

* 用户可能要求具有文件系统访问权限的代理删除不应删除的文件或读取包含敏感信息的文件内容。为了缓解，限制代理仅使用特定目录，并且只允许其读取或写入安全的文件。考虑通过在容器中运行代理来进一步实现沙盒化。

* 用户可能要求具有对外部API的写入权限的代理向API写入恶意数据，或从该API删除数据。为了缓解，给予代理只读API密钥，或限制其仅使用已经抵抗此类滥用的端点。

* 用户可能要求具有对数据库的访问权限的代理删除表或改变模式。为了缓解，将凭据范围限定为代理需要访问的表，并考虑颁发只读凭据。

如果您正在构建访问文件系统、API 或数据库等外部资源的应用程序，请考虑与公司的安全团队交流，以确定如何最好地设计和保护您的应用程序。

## 报告漏洞

请通过电子邮件将安全漏洞报告给 security@langchain.dev。这将确保问题得到及时分级和必要的处理。