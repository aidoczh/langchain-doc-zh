# æŠ€æœ¯ç‰©æµ

LangChain æ–‡æ¡£ç”±ä¸¤ä¸ªç»„æˆéƒ¨åˆ†ç»„æˆï¼š

1. ä¸»è¦æ–‡æ¡£ï¼šæ‰˜ç®¡åœ¨ [python.langchain.com](https://python.langchain.com/)ï¼Œè¿™æ˜¯ä¸»è¦é¢å‘ç”¨æˆ·çš„å…¨é¢èµ„æºï¼Œæ¶µç›–äº†å¹¿æ³›çš„ä¸»é¢˜ï¼ŒåŒ…æ‹¬æ•™ç¨‹ã€ç”¨ä¾‹ã€é›†æˆç­‰ï¼Œä¸ºä½¿ç”¨ LangChain æ„å»ºæä¾›äº†å¹¿æ³›çš„æŒ‡å¯¼ã€‚è¿™äº›æ–‡æ¡£çš„å†…å®¹ä½äº monorepo çš„ `/docs` ç›®å½•ä¸­ã€‚

2. å†…éƒ¨ä»£ç æ–‡æ¡£ï¼šè¿™æ˜¯ä»£ç åº“æœ¬èº«çš„æ–‡æ¡£ï¼Œä¹Ÿç”¨äºç”Ÿæˆå¤–éƒ¨çš„ [API å‚è€ƒ](https://api.python.langchain.com/en/latest/langchain_api_reference.html)ã€‚API å‚è€ƒçš„å†…å®¹æ˜¯é€šè¿‡æ‰«æä»£ç åº“ä¸­çš„æ–‡æ¡£å­—ç¬¦ä¸²è‡ªåŠ¨ç”Ÿæˆçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¦æ±‚å¼€å‘äººå‘˜å¯¹å…¶ä»£ç è¿›è¡Œè‰¯å¥½çš„æ–‡æ¡£è®°å½•ã€‚

ä¸»è¦æ–‡æ¡£æ˜¯ä½¿ç”¨ [Quarto](https://quarto.org) å’Œ [Docusaurus 2](https://docusaurus.io/) æ„å»ºçš„ã€‚

`API å‚è€ƒ` ä¸»è¦æ˜¯ç”± [sphinx](https://www.sphinx-doc.org/en/master/) è‡ªåŠ¨æ„å»ºçš„ï¼Œå¹¶ç”± [Read the Docs](https://readthedocs.org/) æ‰˜ç®¡ã€‚

æˆ‘ä»¬æ„Ÿè°¢æ‰€æœ‰å¯¹æ–‡æ¡£çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä¿®å¤æ‹¼å†™é”™è¯¯ï¼Œæ·»åŠ æ–°æ•™ç¨‹æˆ–ç¤ºä¾‹ï¼Œæ— è®ºæ˜¯åœ¨ä¸»è¦æ–‡æ¡£è¿˜æ˜¯ API å‚è€ƒä¸­ã€‚

ä¸ä»£ç æ£€æŸ¥ç±»ä¼¼ï¼Œæˆ‘ä»¬è®¤è¯†åˆ°æ–‡æ¡£å¯èƒ½ä¼šå¾ˆçƒ¦äººã€‚å¦‚æœæ‚¨ä¸æƒ³åšè¿™ä¸ªå·¥ä½œï¼Œè¯·è”ç³»é¡¹ç›®ç»´æŠ¤äººå‘˜ï¼Œä»–ä»¬å¯ä»¥å¸®åŠ©æ‚¨ã€‚æˆ‘ä»¬ä¸å¸Œæœ›è¿™æˆä¸ºè´¡çŒ®ä¼˜ç§€ä»£ç çš„éšœç¢ã€‚

## ğŸ“œ ä¸»è¦æ–‡æ¡£

ä¸»è¦æ–‡æ¡£çš„å†…å®¹ä½äº monorepo çš„ `/docs` ç›®å½•ä¸­ã€‚

æ–‡æ¡£ä½¿ç”¨ ipython ç¬”è®°æœ¬ï¼ˆ`.ipynb` æ–‡ä»¶ï¼‰å’Œ markdownï¼ˆ`.mdx` æ–‡ä»¶ï¼‰çš„ç»„åˆç¼–å†™ã€‚ç¬”è®°æœ¬ä¼šä½¿ç”¨ [Quarto](https://quarto.org) è½¬æ¢ä¸º markdownï¼Œç„¶åä½¿ç”¨ [Docusaurus 2](https://docusaurus.io/) æ„å»ºã€‚

æ¬¢è¿å¯¹ä¸»è¦æ–‡æ¡£è¿›è¡Œè´¡çŒ®ï¼ğŸ¥°

ä¿®æ”¹æ–‡æ¡£åï¼š

1. è¿è¡Œ linting å’Œ formatting å‘½ä»¤ï¼ˆè§ä¸‹æ–‡ï¼‰ä»¥ç¡®ä¿æ–‡æ¡£æ ¼å¼è‰¯å¥½ä¸”æ— é”™è¯¯ã€‚

2. å¯é€‰æ‹©åœ¨æœ¬åœ°æ„å»ºæ–‡æ¡£ä»¥éªŒè¯æ›´æ”¹æ˜¯å¦æ­£ç¡®ã€‚

3. æäº¤æ›´æ”¹çš„ pull requestã€‚

4. æ‚¨å¯ä»¥é€šè¿‡å•å‡» pull request `Conversation` é¡µé¢ä¸Šçš„ `View deployment` æˆ– `Visit Preview` æŒ‰é’®æ¥é¢„è§ˆå’ŒéªŒè¯æ›´æ”¹æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚è¿™å°†å¸¦æ‚¨åˆ°æ–‡æ¡£æ›´æ”¹çš„é¢„è§ˆé¡µé¢ã€‚

## âš’ï¸ Linting å’Œæœ¬åœ°æ„å»ºæ–‡æ¡£

ç¼–å†™æ–‡æ¡£åï¼Œæ‚¨å¯èƒ½å¸Œæœ›åœ¨æœ¬åœ°è¿›è¡Œ linting å’Œæ„å»ºæ–‡æ¡£ï¼Œä»¥ç¡®ä¿æ–‡æ¡£çœ‹èµ·æ¥è‰¯å¥½ä¸”æ²¡æœ‰é”™è¯¯ã€‚

å¦‚æœæ‚¨æ— æ³•åœ¨æœ¬åœ°æ„å»ºå®ƒï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºæ‚¨å°†èƒ½å¤Ÿåœ¨ pull request é¡µé¢ä¸Šé¢„è§ˆæ–‡æ¡£ã€‚

### å®‰è£…ä¾èµ–

- [Quarto](https://quarto.org) - å°† Jupyter ç¬”è®°æœ¬ï¼ˆ`.ipynb` æ–‡ä»¶ï¼‰è½¬æ¢ä¸ºç”¨äº Docusaurus æœåŠ¡çš„ mdx æ–‡ä»¶çš„è½¯ä»¶åŒ…ã€‚[ä¸‹è½½é“¾æ¥](https://quarto.org/docs/download/)ã€‚

ä» **monorepo æ ¹ç›®å½•**è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£…ä¾èµ–ï¼š

```bash
poetry install --with lint,docs --no-root
```

### æ„å»º

æ„å»ºæ–‡æ¡£çš„ä»£ç ä½äº monorepo çš„ `/docs` ç›®å½•ä¸­ã€‚

åœ¨ä»¥ä¸‹å‘½ä»¤ä¸­ï¼Œå‰ç¼€ `api_` è¡¨ç¤ºè¿™äº›æ˜¯ API å‚è€ƒçš„æ“ä½œã€‚

åœ¨æ„å»ºæ–‡æ¡£ä¹‹å‰ï¼Œå§‹ç»ˆæ¸…ç†æ„å»ºç›®å½•æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼š

```bash
make docs_clean
make api_docs_clean
```

æ¥ä¸‹æ¥ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤æ„å»ºæ–‡æ¡£ï¼š

```bash
make docs_build
make api_docs_build
```

æœ€åï¼Œè¿è¡Œé“¾æ¥æ£€æŸ¥å™¨ä»¥ç¡®ä¿æ‰€æœ‰é“¾æ¥éƒ½æ˜¯æœ‰æ•ˆçš„ï¼š

```bash
make docs_linkcheck
make api_docs_linkcheck
```

### Linting å’Œæ ¼å¼åŒ–

ä¸»è¦æ–‡æ¡£ä» **monorepo æ ¹ç›®å½•** è¿›è¡Œ lintingã€‚è¦å¯¹ä¸»è¦æ–‡æ¡£è¿›è¡Œ lintingï¼Œè¯·ä»é‚£é‡Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
make lint
```

å¦‚æœæ‚¨æœ‰ä¸æ ¼å¼ç›¸å…³çš„é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è‡ªåŠ¨ä¿®å¤å®ƒä»¬ï¼š

```bash
make format
```

## âŒ¨ï¸ å†…éƒ¨ä»£ç æ–‡æ¡£

å†…éƒ¨ä»£ç æ–‡æ¡£ä¸»è¦æ˜¯ç”± [sphinx](https://www.sphinx-doc.org/en/master/) ä»ä»£ç è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¹¶ç”± [Read the Docs](https://readthedocs.org/) æ‰˜ç®¡ã€‚

ä¸ºäº†ä½¿ API å‚è€ƒæœ‰ç”¨ï¼Œä»£ç åº“å¿…é¡»æœ‰è‰¯å¥½çš„æ–‡æ¡£è®°å½•ã€‚è¿™æ„å‘³ç€æ‰€æœ‰å‡½æ•°ã€ç±»å’Œæ–¹æ³•éƒ½åº”è¯¥æœ‰ä¸€ä¸ªæ–‡æ¡£å­—ç¬¦ä¸²ï¼Œè§£é‡Šå®ƒä»¬çš„ä½œç”¨ã€å‚æ•°æ˜¯ä»€ä¹ˆä»¥åŠè¿”å›å€¼æ˜¯ä»€ä¹ˆã€‚è¿™åœ¨ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯ä¸€ä¸ªè‰¯å¥½çš„å®è·µï¼Œä½†å¯¹äº LangChain æ¥è¯´å°¤ä¸ºé‡è¦ï¼Œå› ä¸º API å‚è€ƒæ˜¯å¼€å‘äººå‘˜äº†è§£å¦‚ä½•ä½¿ç”¨ä»£ç åº“çš„ä¸»è¦èµ„æºã€‚

æˆ‘ä»¬é€šå¸¸éµå¾ª [Google Python é£æ ¼æŒ‡å—](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings) ä¸­çš„æ–‡æ¡£å­—ç¬¦ä¸²è§„èŒƒã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªè‰¯å¥½æ–‡æ¡£è®°å½•å‡½æ•°çš„ç¤ºä¾‹ï¼š

```python
def my_function(arg1: int, arg2: str) -> float:
    """This is a short description of the function. (It should be a single sentence.)
    This is a longer description of the function. It should explain what
    the function does, what the arguments are, and what the return value is.
    It should wrap at 88 characters.
    Examples:
        This is a section for examples of how to use the function.
        .. code-block:: python
            my_function(1, "hello")
    Args:
        arg1: This is a description of arg1. We do not need to specify the type since
            it is already specified in the function signature.
        arg2: This is a description of arg2.
    Returns:
        This is a description of the return value.
    """
    return 3.14
```

### ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–

å¯¹å±äºæ­£åœ¨æ–‡æ¡£åŒ–çš„è½¯ä»¶åŒ…çš„ç›®å½•ä¸­çš„ä»£ç æ–‡æ¡£è¿›è¡Œæ£€æŸ¥ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨å¤„ç† `langchain-community` è½¯ä»¶åŒ…ï¼Œä½ éœ€è¦åˆ‡æ¢å·¥ä½œç›®å½•åˆ° `langchain-community` ç›®å½•ï¼š

```bash
cd [root]/libs/langchain-community
```

å¦‚æœè¿˜æ²¡æœ‰ä¸ºè¯¥è½¯ä»¶åŒ…è®¾ç½®è™šæ‹Ÿç¯å¢ƒï¼Œè¯·å…ˆè®¾ç½®è™šæ‹Ÿç¯å¢ƒã€‚

å®‰è£…è¯¥è½¯ä»¶åŒ…çš„ä¾èµ–é¡¹ï¼š

```bash
poetry install --with lint
```

ç„¶åï¼Œä½ å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥å’Œæ ¼å¼åŒ–ä»£ç æ–‡æ¡£ï¼š

```bash
make format
make lint
```

## éªŒè¯æ–‡æ¡£æ›´æ”¹

å°†æ–‡æ¡£æ›´æ”¹æ¨é€åˆ°å­˜å‚¨åº“åï¼Œä½ å¯ä»¥é€šè¿‡å•å‡»æ‹‰å–è¯·æ±‚â€œå¯¹è¯â€é¡µé¢ä¸Šçš„â€œæŸ¥çœ‹éƒ¨ç½²â€æˆ–â€œè®¿é—®é¢„è§ˆâ€æŒ‰é’®æ¥é¢„è§ˆå’ŒéªŒè¯æ›´æ”¹æ˜¯å¦ç¬¦åˆä½ çš„é¢„æœŸã€‚

è¿™å°†å¸¦ä½ è¿›å…¥æ–‡æ¡£æ›´æ”¹çš„é¢„è§ˆé¡µé¢ã€‚

æ­¤é¢„è§ˆç”± [Vercel](https://vercel.com/docs/getting-started-with-vercel) åˆ›å»ºã€‚